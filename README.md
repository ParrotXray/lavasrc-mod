# lavasrc-mod

A modified version of LavaSrc with enhanced features for Lavalink.

## Key Modifications

- Enhanced Apple Music token management with automatic refresh
- Spotify Partner API support for improved track resolution
- Additional configuration options for audio source providers

## Installation

Add the following to your Lavalink `application.yml`:

```yaml
lavalink:
  plugins:
    - dependency: "com.github.ParrotXray.lavasrc-mod:lavasrc-plugin:x.y.z"
      repository: "https://jitpack.io"
      snapshot: false
```

## Configuration

A configuration example is required:

```yaml
plugins:
  lavasrc:
    sources:
      spotify: true
      applemusic: true
      youtube: true
    spotify:
      clientId: ""
      clientSecret: ""
      spDc: "" # the sp dc cookie used for accessing the spotify lyrics api
      countryCode: "JP" # the country code you want to use for filtering the artists top tracks. See https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2
      playlistLoadLimit: 6 # The number of pages at 100 tracks each
      albumLoadLimit: 6 # The number of pages at 50 tracks each
      resolveArtistsInSearch: true # Whether to resolve artists in track search results (can be slow)
      localFiles: false # Enable local files support with Spotify playlists. Please note `uri` & `isrc` will be `null` & `identifier` will be `"local"`
      preferAnonymousToken: true # Whether to use the anonymous token for resolving tracks, artists and albums. Playlists are always resolved with the anonymous token to support autogenerated playlists.
      customTokenEndpoint: "http://localhost:8080/api/token"
    applemusic:
      countryCode: "US" # the country code you want to use for filtering the artists top tracks and language. See https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2

      # The following settings, manually input or empty to get a token automatically
      mediaAPIToken: "your apple music api token" # apple music api token
      # or specify an apple music key
      keyID: "your key id"
      teamID: "your team id"
      musicKitKey: |
        -----BEGIN PRIVATE KEY-----
        your key
        -----END PRIVATE KEY-----
      playlistLoadLimit: 6 # The number of pages at 300 tracks each
      albumLoadLimit: 6 # The number of pages at 300 tracks each
```

## Documentation

For complete documentation, configuration details, and supported sources, please refer to the original LavaSrc repository:

https://github.com/topi314/LavaSrc

## Credits

This is a modified version of LavaSrc by [@topi314](https://github.com/topi314).

Original repository: https://github.com/topi314/LavaSrc

## License

This project inherits the license from the original LavaSrc project.